(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{250:function(t,a,e){"use strict";e.r(a);var s={data:function(){return{fotos:["1.svg","2.svg","3.svg","4.svg","5.svg","6.svg","7.svg","8.jpg","9.jpg","10.jpg","11.svg","12.svg","13.jpg","14.svg","15.svg","16.svg","17.svg","18.svg","19.svg","20.svg","21.svg","22.svg","23.svg","24.svg","25.svg","26.svg","27.svg"],value:[{name:"Equipo 1",code:"js"}],options:[{name:"Equipo 1",code:"vu"},{name:"Equipo 2",code:"js"},{name:"Equipo 3",code:"os"}],image:"",cats:{},user:window.User,baseUrl:window.baseUrl,form:new Form({id:"",title:"",description:"",editordata:"",img:"",category:"1sustainability",language:"es",author:"showme",privacy:"empresarial",type:"idea",votes_privacy:"no"})}},methods:{checkUserType:function(){user.account_type,this.form.privacy="empresarial"},isFileImage:function(t){return!!["image/gif","image/jpeg","image/png"].includes(t.type)},onFilePicked:function(t){var a=t.target.files[0].name,e=t.target.files[0].size/1024/1024;e=e.toFixed(2),a.lastIndexOf(".")<=0&&alert("Añadir un archivo válido!"),this.image=t.target.files[0],e>3&&(alert("La imágen no puede ser mayor a 3 megas"),document.getElementById("imagenInnova").value=null)},testFun:function(){this.form.editordata=$("#kt_summernote_1").summernote("code"),console.log(this.form.editordata)},createUser:function(){var t=this,a=new FormData;Math.floor(1e3*Math.random());if(""==this.image){var e=Math.floor(26*Math.random());this.form.img=this.baseUrl+"images/"+this.fotos[e],a.append("img",this.form.img),a.append("title",this.form.title),a.append("description",this.form.description),a.append("editordata",$("#kt_summernote_1").summernote("code")),a.append("category",this.form.category),a.append("language",this.form.language),a.append("author",this.form.author),a.append("privacy",this.form.privacy),a.append("type",this.form.type),a.append("votes_privacy",this.form.votes_privacy)}else a.append("image",this.image),a.append("title",this.form.title),a.append("description",this.form.description),a.append("editordata",$("#kt_summernote_1").summernote("code")),a.append("category",this.form.category),a.append("language",this.form.language),a.append("author",this.form.author),a.append("privacy",this.form.privacy),a.append("type",this.form.type),a.append("votes_privacy",this.form.votes_privacy);this.$Progress.start(),this.form.editordata=$("#kt_summernote_1").summernote("code"),axios.post("/saveIdea2",a,{headers:{"content-type":"multipart/form-data"}}).then(function(a){a.data;toastr.success("+ 5 puntos","Idea creada satisfactoriamente."),t.form.reset(),t.$Progress.finish(),t.$router.push({name:"ideaList"})}).catch(function(a){console.log(a),toastr.error("Oops!","Something goes wrong"),t.$Progress.finish()})},updateRichText:function(){this.form.editordata=$('textarea[name="editordata"]').html($("#kt_summernote_1").code())},brignPersonalizedCategories:function(){var t=this;axios.get("/brignPersonalizedCategories").then(function(a){t.cats=a.data.categories}).catch(function(t){console.log(t)})}},mounted:function(){this.checkUserType(),this.brignPersonalizedCategories();var t=function(){$("#kt_summernote_1").summernote({height:250}),$("#content").summernote(),$(".dropdown-toggle").dropdown()};jQuery(document).ready(function(){t()})}},r=(e(45),e(1)),o=Object(r.a)(s,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-1"}),t._v(" "),e("div",{staticClass:"col-lg-10 col-sm-12 col-md-10"},[e("div",{staticClass:"kt-portlet kt-portlet--last kt-portlet--head-lg kt-portlet--responsive-mobile myForm",attrs:{id:"kt_page_portlet"}},[e("form",{staticClass:"kt-form",attrs:{enctype:"multipart/form-data",id:"kt_form"},on:{submit:function(a){return a.preventDefault(),t.createUser(a)},keydown:function(a){return t.form.onKeydown(a)}}},[e("div",{staticClass:"kt-portlet__head kt-portlet__head--lg"},[t._m(0),t._v(" "),e("div",{staticClass:"kt-portlet__head-toolbar"},[e("router-link",{staticClass:"btn btn-clean kt-margin-r-10",attrs:{to:"/innovations"}},[e("i",{staticClass:"la la-arrow-left",staticStyle:{"padding-bottom":"8px"}}),t._v(" "),e("span",{staticClass:"kt-hidden-mobile"},[t._v("Atrás")])]),t._v(" "),e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-brand",attrs:{type:"submit",disabled:t.form.busy}},[e("i",{staticClass:"la la-check",staticStyle:{"padding-bottom":"8px"}}),t._v(" "),e("span",{staticClass:"kt-hidden-mobile"},[t._v("Publicar idea")])]),t._v(" "),e("button",{staticClass:"btn btn-brand dropdown-toggle dropdown-toggle-split",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}}),t._v(" "),t._m(1)])],1)]),t._v(" "),e("div",{staticClass:"kt-portlet__body blocked"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-1"}),t._v(" "),e("div",{staticClass:"col-xl-11"},[e("div",{staticClass:"kt-section kt-section--first"},[e("div",{staticClass:"kt-section__body"},[e("h3",{staticClass:"kt-section__title kt-section__title-lg"},[t._v("Detalles de Idea")]),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"form-group form-group-last row"},[e("label",{staticClass:"col-3 col-form-label"},[t._v("Privacidad de la idea")]),t._v(" "),e("div",{staticClass:"col-9"},[e("div",{staticClass:"kt-checkbox-inline"},[e("label",{staticClass:"kt-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.privacy,expression:"form.privacy"}],class:{"is-invalid":t.form.errors.has("privacy")},attrs:{type:"radio",value:"me",name:"privacy"},domProps:{checked:t._q(t.form.privacy,"me")},on:{change:function(a){return t.$set(t.form,"privacy","me")}}}),t._v(" Borrador (Solo para mi)\n                              "),e("span")]),t._v(" "),e("label",{staticClass:"kt-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.privacy,expression:"form.privacy"}],class:{"is-invalid":t.form.errors.has("privacy")},attrs:{type:"radio",value:"empresarial",name:"privacy"},domProps:{checked:t._q(t.form.privacy,"empresarial")},on:{change:function(a){return t.$set(t.form,"privacy","empresarial")}}}),t._v(" Privada (Empresarial)\n                              "),e("span")]),t._v(" "),e("label",{staticClass:"kt-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.privacy,expression:"form.privacy"}],class:{"is-invalid":t.form.errors.has("privacy")},attrs:{type:"radio",value:"public",name:"privacy"},domProps:{checked:t._q(t.form.privacy,"public")},on:{change:function(a){return t.$set(t.form,"privacy","public")}}}),t._v(" Hacerla pública\n                              "),e("span")]),t._v(" "),e("has-error",{attrs:{form:t.form,field:"privacy"}})],1)])]),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-3 col-form-label"},[t._v("Título")]),t._v(" "),e("div",{staticClass:"col-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("title")},attrs:{name:"title",type:"text",placeholder:"e.g., Usar bolsa reutilizable a la hora de comprar",required:""},domProps:{value:t.form.title},on:{input:function(a){a.target.composing||t.$set(t.form,"title",a.target.value)}}})]),t._v(" "),e("has-error",{attrs:{form:t.form,field:"title"}})],1),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-3 col-form-label"},[t._v("Descripción corta")]),t._v(" "),e("div",{staticClass:"col-9"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("description")},attrs:{name:"description",type:"text",placeholder:"e.g., Tener a la mano una bolsa grande para llevar las compras",rows:"2",required:""},domProps:{value:t.form.description},on:{input:function(a){a.target.composing||t.$set(t.form,"description",a.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"description"}})],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticStyle:{"margin-left":"10px"},attrs:{for:""}},[t._v("Descripción detallada")]),t._v(" "),e("div",{staticClass:"col-12"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.editordata,expression:"form.editordata"}],staticClass:"summernote richtext",class:{"is-invalid":t.form.errors.has("editordata")},attrs:{id:"kt_summernote_1",name:"editordata"},domProps:{value:t.form.editordata},on:{change:t.updateRichText,input:function(a){a.target.composing||t.$set(t.form,"editordata",a.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"body"}}),t._v(" "),e("span",{staticClass:"form-text text-muted"},[t._v("El anterior editor enrriquecido de texto te permite escribir descripciones profesionales al alcance de tu mano.")])],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-3 col-form-label"},[t._v("Imágen alusiva a la idea")]),t._v(" "),e("div",{staticClass:"col-9"},[e("div",{staticClass:"input-group"},[t._m(2),t._v(" "),e("input",{staticClass:"form-control",class:{"is-invalid":t.form.errors.has("img")},attrs:{type:"file",accept:"image/x-png, image/jpeg",name:"img",id:"imagenInnova",placeholder:"https://wwwmyawesomeideaimg.com/myimage.jpg","aria-describedby":"basic-addon1"},on:{change:t.onFilePicked}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"img"}})],1),t._v(" "),e("span",{staticClass:"form-text text-muted"},[t._v("Imágen alusiva a la idea (Tamaño menor a 3M).")])])]),t._v(" "),e("div",{staticClass:"form-group form-group-last row"},[e("label",{staticClass:"col-3 col-form-label"},[t._v("Categoría")]),t._v(" "),e("div",{staticClass:"col-9"},[e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.category,expression:"form.category"}],staticClass:"kt-selectpicker form-control",class:{"is-invalid":t.form.errors.has("category")},attrs:{"data-container":"body",name:"category",id:"kt-selectpicker1",required:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.form,"category",a.target.multiple?e:e[0])}}},t._l(t.cats,function(a){return e("optgroup",{key:a.id,attrs:{label:a.label}},t._l(a.options,function(a){return e("option",{key:a.id,domProps:{value:a.id+a.name}},[t._v(t._s(t._f("toCategory")(a.name)))])}),0)}),0),t._v(" "),e("has-error",{attrs:{form:t.form,field:"category"}})],1)])])])]),t._v(" "),e("div",{staticClass:"kt-section"},[e("div",{staticClass:"kt-section__body"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-3 col-form-label"},[t._v("Lenguaje")]),t._v(" "),e("div",{staticClass:"col-9"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.language,expression:"form.language"}],staticClass:"kt-selectpicker form-control",class:{"is-invalid":t.form.errors.has("language")},attrs:{name:"language",id:"kt-selectpicker2",required:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.form,"language",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"en",selected:""}},[t._v("English")]),t._v(" "),e("option",{attrs:{value:"es"}},[t._v("Español - Spanish")])]),t._v(" "),e("has-error",{attrs:{form:t.form,field:"language"}})],1)]),t._v(" "),e("div",{staticClass:"form-group form-group-last row"},[e("label",{staticClass:"col-3 col-form-label"},[t._v("Mostrar mi nombre en la idea?")]),t._v(" "),e("div",{staticClass:"col-9"},[e("div",{staticClass:"kt-checkbox-inline"},[e("label",{staticClass:"kt-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.author,expression:"form.author"}],class:{"is-invalid":t.form.errors.has("author")},attrs:{type:"radio",value:"showme",name:"author"},domProps:{checked:t._q(t.form.author,"showme")},on:{change:function(a){return t.$set(t.form,"author","showme")}}}),t._v(" Mostrar mi correo\n                              "),e("span")]),t._v(" "),e("label",{staticClass:"kt-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.author,expression:"form.author"}],class:{"is-invalid":t.form.errors.has("author")},attrs:{type:"radio",value:"anonymous",name:"author"},domProps:{checked:t._q(t.form.author,"anonymous")},on:{change:function(a){return t.$set(t.form,"author","anonymous")}}}),t._v(" Anónimo(a)\n                              "),e("span")]),t._v(" "),e("has-error",{attrs:{form:t.form,field:"author"}})],1)])]),t._v(" "),e("br")])])])])]),t._v(" "),e("center",[e("div",{staticClass:"kt-portlet__head-toolbar"},[e("router-link",{staticClass:"btn btn-clean kt-margin-r-10",attrs:{to:"/innovations"}},[e("i",{staticClass:"la la-arrow-left",staticStyle:{"padding-bottom":"8px"}}),t._v(" "),e("span",{staticClass:"kt-hidden-mobile"},[t._v("Atrás")])]),t._v(" "),e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-brand",attrs:{type:"submit",disabled:t.form.busy}},[e("i",{staticClass:"la la-check",staticStyle:{"padding-bottom":"8px"}}),t._v(" "),e("span",{staticClass:"kt-hidden-mobile"},[t._v("Publicar nueva idea")])])])],1)]),t._v(" "),e("br")],1)])]),t._v(" "),e("div",{staticClass:"col-lg-1"})])])},[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"kt-portlet__head-label"},[a("h3",{staticClass:"kt-portlet__head-title"},[this._v("\n                  Crea ideas geniales\n                  "),a("small",[this._v("para solucionar problemas en tu empresa y en el mundo.")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{position:"absolute","will-change":"transform",top:"0px",left:"0px",transform:"translate3d(123px, 38px, 0px)"},attrs:{"x-placement":"bottom-end"}},[a("ul",{staticClass:"kt-nav"},[a("li",{staticClass:"kt-nav__item"},[a("a",{staticClass:"kt-nav__link",attrs:{href:"#"}},[a("i",{staticClass:"kt-nav__link-icon flaticon2-reload"}),this._v(" "),a("span",{staticClass:"kt-nav__link-text"},[this._v("Save & continue")])])]),this._v(" "),a("li",{staticClass:"kt-nav__item"},[a("a",{staticClass:"kt-nav__link",attrs:{href:"#"}},[a("i",{staticClass:"kt-nav__link-icon flaticon2-add-1"}),this._v(" "),a("span",{staticClass:"kt-nav__link-text"},[this._v("Save & add new")])])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"flaticon-photo-camera"})])])}],!1,null,null,null);a.default=o.exports},45:function(t,a,e){"use strict";var s=e(9);e.n(s).a},46:function(t,a,e){(t.exports=e(2)(!1)).push([t.i,"\n.note-toolbar {\r\n  z-index: auto;\n}\n.summernote {\r\n  display: fixed !important;\n}\n.blocked {\r\n  z-index: 999 !important;\n}\n.myForm {\r\n  background-color: #fafafa !important;\n}\r\n",""])},9:function(t,a,e){var s=e(46);"string"==typeof s&&(s=[[t.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(3)(s,r);s.locals&&(t.exports=s.locals)}}]);