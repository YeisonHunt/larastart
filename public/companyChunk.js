(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{245:function(t,a,e){"use strict";e.r(a);var o={data:function(){return{logoTemporal:window.baseUrl+"img/plus.svg",companyForm:new Form({logo:"",name:""}),userType:""}},methods:{onFilePicked:function(t){var a=this,e=t.target.files;if(e[0].name.lastIndexOf(".")<=0)return alert("Please add a valid file");var o=new FileReader;o.addEventListener("load",function(){a.logoTemporal=o.result,a.companyForm.logo=o.result}),o.readAsDataURL(e[0]),this.logoTemporal=e[0]},updateCompanyInfo:function(){var t=this;this.$Progress.start(),this.companyForm.post("/data/updateCompanyInfo").then(function(a){a.data;t.$router.push({name:"company"}),toastr.success("Excelente!","Información de empresa actualizada."),t.companyForm.reset(),t.getCompanyInfo(),window.location.reload(!1)}).catch(function(t){toastr.error("Oops!","Algo anda mal")}),this.$Progress.finish()},getCompanyInfo:function(){var t=this;axios.get("/data/getCompanyInfo").then(function(a){t.companyForm.name=a.data.name,t.companyForm.logo=a.data.logo,null==a.data.logo||(t.logoTemporal=a.data.logo),t.userType=a.data.userType,console.log(a.data.name)}).catch(function(t){console.log(t),toastr.error("Oops!","Something goes wrong")})}},mounted:function(){this.getCompanyInfo()}},s=e(1),n=Object(s.a)(o,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{"min-height":"80vh"},attrs:{id:"todo"}},[e("div",{staticClass:"container",staticStyle:{"background-color":"#fff"}},["admin"==t.userType?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("form",{staticClass:"kt-form",on:{submit:function(a){return a.preventDefault(),t.updateCompanyInfo(a)},keydown:function(a){return t.companyForm.onKeydown(a)}}},[e("div",{staticClass:"kt-portlet__body"},[t._m(0),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-8"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Logo ")]),t._v(" "),e("input",{ref:"contactPhoto",staticClass:"form-control",attrs:{type:"file",id:"customFile",accept:"image/x-png, image/jpeg"},on:{change:t.onFilePicked}}),t._v(" "),e("span",{staticClass:"form-text text-muted"},[t._v("El tamaño del logo debe ser menor a 700 Kb.")])])]),t._v(" "),e("div",{staticClass:"col-4"},[e("div",{staticStyle:{"text-align":"center"}},[e("v-avatar",{attrs:{tile:!1,size:150,color:"grey lighten-5"}},[e("img",{attrs:{src:t.logoTemporal,alt:"Company Logo"}})])],1)])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Nombre de la empresa")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.companyForm.name,expression:"companyForm.name"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"emailHelp",placeholder:"e.g., Apple Inc"},domProps:{value:t.companyForm.name},on:{input:function(a){a.target.composing||t.$set(t.companyForm,"name",a.target.value)}}})])])])]),t._v(" "),e("div",{staticClass:"kt-portlet__foot",staticStyle:{"text-align":"center"}},[e("div",{staticClass:"kt-form__actions"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")]),t._v(" "),e("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"business"}}},[t._v("Ir atrás")])],1)])])])]):e("div",{staticClass:"row"},[t._m(1),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticStyle:{"text-align":"center"}},[e("h3",[t._v(t._s(this.companyForm.name))])])]),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticStyle:{"text-align":"center"}},[e("v-avatar",{attrs:{tile:!1,size:150,color:"grey lighten-5"}},[e("img",{attrs:{src:t.logoTemporal,alt:"Company Logo"}})])],1)]),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[e("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"business"}}},[t._v("Ir atrás")])],1)])])])])},[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-group form-group-last"},[e("div",{staticStyle:{"text-align":"center"}},[e("h3",[t._v("Mi empresa")]),t._v(" "),e("br")]),t._v(" "),e("div",{staticClass:"alert alert-secondary",attrs:{role:"alert"}},[e("div",{staticClass:"alert-icon"},[e("i",{staticClass:"flaticon-suitcase kt-font-brand"})]),t._v(" "),e("div",{staticClass:"alert-text"},[t._v("La información colocada aquí como el logo se verá reflejada en las cuentas de usuarios. "),e("br"),t._v(" "),e("br"),t._v("\n                  Nota: sabemos que los logos están generalmente en formato png o svg, pero al mezclarse con el color de fondo muchas veces no se ven. Innova recomienda\n                  utilizar la siguiente herramienta para transformar el formato de su logo a JPG antes de subirlo.\n                  \n                  "),e("br"),t._v(" "),e("a",{attrs:{href:"https://png2jpg.com/",target:"_blank"}},[t._v("Click aqui :PNG to JPG")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12"},[a("div",{staticStyle:{"text-align":"center"}},[a("p",[this._v("Eres parte de esta genial empresa:")])])])}],!1,null,null,null);a.default=n.exports}}]);