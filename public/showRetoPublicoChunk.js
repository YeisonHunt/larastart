(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{18:function(t,s,i){var e=i(64);"string"==typeof e&&(e=[[t.i,e,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(3)(e,n);e.locals&&(t.exports=e.locals)},260:function(t,s,i){"use strict";i.r(s);function e(t,s,i){return s in t?Object.defineProperty(t,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[s]=i,t}var n={data:function(){var t;return e(t={expandido:[!0],solutions:{},canIseeVar:!1,permissions:{},id:this.$route.params.id,idea:{},editMode:!1,ideas:{},user:window.User,userIdea:{},liked:""},"user",window.user),e(t,"discussionsFinal",{}),e(t,"like",{}),e(t,"soyCreador",!1),e(t,"containter",""),e(t,"containerFluid",""),e(t,"likesPerIdea",{}),e(t,"foundLiked",!1),e(t,"baseUrl",window.baseUrl),e(t,"randomNumber",Math.floor(100*Math.random())),e(t,"lastCommentId",""),e(t,"id_idea_general",this.$route.params.id),e(t,"form",new Form({user_id:window.user.id,idea_id:this.$route.params.id,body:"",discussion_parent_id:0})),e(t,"formChild",new Form({user_id:window.user.id,idea_id:this.$route.params.id,body:"",discussion_parent_id:""})),e(t,"formChild2",new Form({user_id:window.user.id,idea_id:this.$route.params.id,body:"",discussion_parent_id:""})),e(t,"formLike",new Form({user_id:window.user.id,comment_id:"",idea_id:this.$route.params.id})),e(t,"formDesired",new Form({innovation_id:this.$route.params.id,user_id:window.user.id})),t},computed:{updatedLastIdComment:function(){},randomNumber2:function(){return Math.floor(100*Math.random())},mobile:function(){return"sm"==this.$mq},large:function(){return"md"==this.$mq||"lg"==this.$mq},likesText:function(){return"sm"==this.$mq?"":("md"==this.$mq||this.$mq,"likes")},voteText:function(){return"sm"==this.$mq?"":("md"==this.$mq||this.$mq,"Vote idea")},likedText:function(){return"sm"==this.$mq?"":("md"==this.$mq||this.$mq,"Liked!")},puedoVer:function(){if(0!=this.permissions.length){for(var t=!1,s=this.user.id,i=this.id,e={},n=this.permissions,a=0;a<n.length;a++)"can view"!=(e=n[a]).permission_type&&"can view-edit"!=e.permission_type||e.id_user!=s||e.id_idea!=i||(t=!0);return t}return this.idea.company_id==this.user.company_id},puedoEditar:function(){if(0!=this.permissions.length){for(var t=!1,s=this.user.id,i=this.id,e={},n=this.permissions,a=0;a<n.length;a++)"can view-edit"==(e=n[a]).permission_type&&e.id_user==s&&e.id_idea==i&&(t=!0);return t}return!1}},methods:{createSolution:function(){this.$router.push({name:"solucion-reto",params:{id:this.$route.params.id}})},alreadyLiked:function(t){if(0!=this.likesPerIdea.length){var s=!1;try{this.likesPerIdea.forEach(function(t){t.user_id==window.user.id&&(s=!0)})}catch(t){}return this.foundLiked=s,s}return this.foundLiked=!1,!1},likeIdea:function(){var t=this;this.$Progress.start(),this.formDesired.post("/saveDesired").then(function(s){toastr.success("Keep rating","Innovation liked!."),t.likesPerIdea=s.data.desired}).catch(function(t){console.log(t),toastr.error("Oops!","Something goes wrong")}),this.$Progress.finish()},checkLiked:function(t){if(0!=t.length){var s=!1;try{t.forEach(function(t){t.user_id==window.user.id&&(s=!0)})}catch(t){}return s}return this.liked=!1,!1},likeComment:function(t){var s=this;this.formLike.comment_id=t,this.formLike.idea_id=this.id_idea_general,this.$Progress.start(),this.formLike.post("/saveLike").then(function(t){toastr.success("Keep innovating","Thanks for the feedback."),s.formLike.comment_id="",s.formLike.idea_id="",s.discussionsFinal=t.data.discussions}).catch(function(t){console.log(t),s.formLike.comment_id="",s.formLike.idea_id="",toastr.error("Oops!","Something goes wrong")}),this.$Progress.finish()},addChild:function(t){$("#"+t).attr("style","display:block"),document.getElementById("texto"+t).focus()},checkChilds:function(t){return t.childs.length>0},loadUsers:function(){var t=this;axios.get("/getInnovation/"+this.id).then(function(s){t.idea=s.data.idea,t.userIdea=s.data.user,t.discussionsFinal=s.data.discussions,t.likesPerIdea=s.data.desired,t.permissions=s.data.permissions,t.solutions=s.data.solutions,s.data.idea.created_by==s.data.user.id&&(t.soyCreador=!0)}).catch(function(t){console.log(t)})},sendComment:function(){var t=this;this.$Progress.start(),this.form.post("/addComment").then(function(s){toastr.success("Awesome!","Comment added successfully."),t.form.reset(),t.discussionsFinal=s.data.discussions,t.likesPerIdea=s.data.desired}).catch(function(t){console.log(t),toastr.error("Oops!","Something goes wrong")}),this.$Progress.finish()},goLastComment:function(){this.sendComment()},sendChildComment:function(t){var s=this;this.$Progress.start(),this.formChild.discussion_parent_id=t,this.formChild.post("/addComment").then(function(t){toastr.success("Awesome!","Comment added successfully."),s.formChild.reset(),s.discussionsFinal=t.data.discussions,s.likesPerIdea=t.data.desired}).catch(function(){toastr.error("Oops!","Something goes wrong")}),this.$Progress.finish()},sendChild2Comment:function(t){var s=this;this.$Progress.start(),this.formChild2.discussion_parent_id=t,this.formChild2.post("/addComment").then(function(i){toastr.success("Awesome!","Comment added successfully."),s.formChild2.reset(),$("#"+t).attr("style","display:none"),s.discussionsFinal=i.data.discussions,s.likesPerIdea=i.data.desired}).catch(function(t){console.log(t),toastr.error("Oops!","Something goes wrong")}),this.$Progress.finish()}},created:function(){},mounted:function(){this.loadUsers()}},a=(i(63),i(1)),r=Object(a.a)(n,function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{class:{"container-fluid":t.mobile,"container-fluid":t.large}},[t.puedoVer?i("div",{staticClass:"row",staticStyle:{"min-height":"80vh"}},[i("div",{staticClass:"col-lg-12 col-sm-12 col-md-12"},[i("div",{staticClass:"kt-portlet mobilePortlet"},[i("div",{staticClass:"kt-portlet__head"},[i("div",{staticClass:"kt-portlet__head-label"},[i("router-link",{staticClass:"btn btn-clean kt-margin-r-10",attrs:{to:"/retos"}},[i("i",{staticClass:"la la-arrow-left",staticStyle:{"padding-bottom":"8px"}}),t._v(" "),i("span",{staticClass:"kt-hidden-mobile"},[t._v("Back")])]),t._v(" "),t._m(0),t._v(" "),i("h3",{staticClass:"kt-portlet__head-title"},[t._v("Nombre del reto: "+t._s(t.idea.title))])],1),t._v(" "),i("div",{staticClass:"kt-portlet__head-toolbar"},[i("div",{staticClass:"kt-portlet__head-actions"},[i("router-link",{staticClass:"btn btn-outline-success btn-sm btn-icon btn-icon-md",attrs:{to:"/shareInnovation/"+this.id}},[i("i",{staticClass:"flaticon-share"})])],1)])]),t._v(" "),i("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"images "},[i("img",{staticClass:"imgFit",attrs:{src:t.idea.img}})]),t._v(" "),i("div",{staticClass:"kt-portlet__body wrapText",attrs:{id:"ideaBody"},domProps:{innerHTML:t._s(t.idea.body)}}),t._v(" "),i("br"),t._v(" "),i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-6"},[i("div",{staticClass:"kt-demo-icon click",on:{click:t.createSolution}},[t._m(1),t._v(" "),i("div",{staticClass:"kt-demo-icon__class"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tProponer una idea para solucionar este reto ")])])])]),t._v(" "),i("br"),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("v-expansion-panel",{attrs:{expand:""},model:{value:t.expandido,callback:function(s){t.expandido=s},expression:"expandido"}},[i("v-expansion-panel-content",{scopedSlots:t._u([{key:"header",fn:function(){return[i("div",[t._v("Soluciones Actuales  "+t._s(t.solutions.length))])]},proxy:!0}],null,!1,458788752)},[t._v(" "),i("v-container",{attrs:{fluid:""}},[i("v-layout",{attrs:{row:""}},t._l(t.solutions,function(s){return i("v-flex",{key:s.id,attrs:{xs12:"",sm6:"",md2:"",lg4:"",xl3:"","pa-2":""}},[i("v-card",{staticClass:"mx-auto",attrs:{width:"90%",height:"100%",hover:""}},[i("v-img",{attrs:{src:s.img,height:"194"}}),t._v(" "),i("v-card-text",[i("div",{staticClass:"headline"},[t._v(t._s(t._f("uppercaseFirst")(s.title)))]),t._v(" "),i("br"),t._v(" "),"showme"==s.author?i("div",[t._v("Escrita  por: "+t._s(s.escrita))]):i("div",[t._v("Escrita por :Anónimo(a)")]),t._v("\n\n                 "+t._s(t._f("largeText")(s.description))+"\n\n                  "),i("p",[i("b",[t._v("Categoría: ")]),t._v(" "+t._s(t._f("toCategory")(s.category)))])]),t._v(" "),i("v-card-actions",[i("v-btn",{attrs:{to:{name:"ver-idea",params:{id:s.id}},dark:"",text:"",color:"deep-purple accent-4"}},[t._v("Leer completa")])],1)],1)],1)}),1)],1)],1)],1)],1)])]),t._v(" "),i("div",{staticClass:"user-section"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"kt-portlet kt-portlet--tabs kt-portlet--height-fluid"},[i("div",{staticClass:"kt-portlet__body"},[i("div",{staticClass:"tab-content"},[i("div",{staticClass:"tab-pane active",attrs:{id:"kt_widget4_tab1_content"}},[i("div",{staticClass:"kt-widget4"},[i("div",{staticClass:"kt-widget4__item"},[t._m(2),t._v(" "),"showme"==t.idea.author?i("div",{staticClass:"kt-widget4__info"},[i("a",{staticClass:"kt-widget4__username",attrs:{href:"#"}},[t._v(t._s(t.userIdea.name))]),t._v(" "),i("p",{staticClass:"kt-widget4__text"},[t._v(t._s(t.userIdea.email))])]):t._e(),t._v(" "),"showme"==t.idea.author?i("a",{staticClass:"btn btn-sm btn-label-brand",attrs:{href:"#"}},[t._v("Contact user")]):t._e(),t._v(" "),"anonymous"==t.idea.author?i("div",{staticClass:"kt-widget4__info"},[i("a",{staticClass:"kt-widget4__username",attrs:{href:"#"}},[t._v("Anonymous User")]),t._v(" "),i("p",{staticClass:"kt-widget4__text"},[t._v("Visual Designer, Google Inc")])]):t._e(),t._v(" "),"anonymous"==t.idea.author?i("a",{staticClass:"btn btn-sm btn-label-brand",attrs:{href:"#"}},[t._v("Contact user")]):t._e()])])])]),t._v(" "),i("br"),t._v(" "),i("div",{staticClass:"comments-section"},[i("div",{staticClass:"row bootstrap snippets"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"comment-wrapper"},[i("div",{staticClass:"panel panel-info"},[i("div",{staticClass:"panel-body"},[i("h5",{staticClass:"ml-3 mt-5"},[t._v("Nueva retroalimentación")]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-12 col-sm-12"},[i("center",[i("form",{staticClass:"form-inline",on:{submit:function(s){return s.preventDefault(),t.goLastComment(s)},keydown:function(s){return t.form.onKeydown(s)},keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.goLastComment()}}},[i("div",{staticClass:"form-group"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.body,expression:"form.body"}],staticClass:"form-control ",staticStyle:{margin:"10px",width:"600px"},attrs:{placeholder:"Algo para aportar?",rows:"2",required:""},domProps:{value:t.form.body},on:{input:function(s){s.target.composing||t.$set(t.form,"body",s.target.value)}}}),t._v(" "),i("br")])])])],1)]),t._v(" "),t._m(3),t._v(" "),i("br"),t._v(" "),i("ul",{staticClass:"media-list"},[t._l(t.discussionsFinal,function(s){return i("li",{key:t.discussionsFinal.id,staticClass:"media",attrs:{id:"padre"+s.discussions.id}},[i("a",{staticClass:"pull-left",attrs:{href:"#"}},[i("img",{staticClass:"imgCircle",attrs:{src:"https://picsum.photos/100?random="+s.discussions.id,alt:""}})]),t._v(" "),i("div",{staticClass:"media-body"},[i("span",{staticClass:"text-muted pull-right mr-5"},[i("h6",{staticClass:"text-muted"},[t._v(t._s(t._f("humanDate2")(s.discussions.created_at)))])]),t._v(" "),i("strong",{staticClass:"text-success"},[t._v(" "+t._s(s.discussions.name))]),t._v(" "),i("p",{staticClass:"biggerFont"},[t._v(t._s(s.discussions.body))]),t._v(" "),i("div",{staticClass:"icons"},[i("a",{staticClass:"animated bounce",on:{click:function(i){return t.likeComment(s.discussions.id)}}},[i("i",{staticClass:"normalFont links biggerIcons",staticStyle:{display:"inline"}},[t.checkLiked(s.discussions.likes)?i("vue-star",{attrs:{animate:"animated  normalFont links",color:"#ccc"}},[i("a",{staticClass:"fas fa-thumbs-up",staticStyle:{color:"#4285F4"},attrs:{slot:"icon"},slot:"icon"})]):i("vue-star",{attrs:{animate:"animated bounce normalFont links",color:"#4285F4"}},[i("a",{staticClass:"fas fa-thumbs-up",staticStyle:{color:"gray"},attrs:{slot:"icon"},slot:"icon"})])],1),t._v("\n                                                 \n\n                                          "+t._s(" "+s.discussions.likes.length)+" "+t._s(t.likesText)+"\n                                        ")]),t._v("\n                                           \n                                        "),i("a",{on:{click:function(i){return t.addChild(s.discussions.id)}}},[i("span",[i("i",{staticClass:"flaticon-reply normalFont links"},[t._v("  "+t._s(s.childs.length)+"   comments")])])])])]),t._v(" "),i("br"),t._v(" "),i("br"),t._v(" "),t._l(s.childs,function(e){return i("div",{key:e.id,staticClass:"media sub"},[i("a",{staticClass:"pull-left"},[i("img",{staticClass:"imgCircle",attrs:{src:"https://picsum.photos/110?random="+e.id,alt:""}})]),t._v(" "),i("div",{staticClass:"media-body"},[i("span",{staticClass:"text-muted pull-right mr-5"},[i("h6",{staticClass:"text-muted"},[t._v(t._s(t._f("humanDate2")(e.created_at)))])]),t._v(" "),i("strong",{staticClass:"text-success"},[t._v(" "+t._s(e.name))]),t._v(" "),i("p",{staticClass:"biggerFont"},[t._v(t._s(e.body))]),t._v(" "),i("div",{staticClass:"icons"},[i("a",{staticClass:"animated bounce",on:{click:function(s){return t.likeComment(e.id)}}},[i("i",{staticClass:"normalFont links biggerIcons",staticStyle:{display:"inline"}},[t.checkLiked(e.likes)?i("vue-star",{attrs:{animate:"animated  normalFont links",color:"#ccc"}},[i("a",{staticClass:"fas fa-thumbs-up",staticStyle:{color:"#4285F4"},attrs:{slot:"icon"},slot:"icon"})]):i("vue-star",{attrs:{animate:"animated bounce normalFont links",color:"#4285F4"}},[i("a",{staticClass:"fas fa-thumbs-up",staticStyle:{color:"gray"},attrs:{slot:"icon"},slot:"icon"})])],1),t._v("\n                                                   \n                                            "+t._s(" "+e.likes.length)+" "+t._s(t.likesText)+"\n                                          ")]),t._v("\n                                             \n                                          "),i("a",{on:{click:function(i){return t.addChild(s.discussions.id)}}},[t._m(4,!0)])])])])}),t._v(" "),(t.checkChilds(s),t._e()),t._v(" "),i("div",{staticClass:"childComment",staticStyle:{display:"none"},attrs:{id:s.discussions.id}},[i("form",{staticClass:"form",on:{submit:function(i){return i.preventDefault(),t.sendChild2Comment(s.discussions.id)},keydown:function(s){return t.formChild2.onKeydown(s)}}},[i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formChild2.body,expression:"formChild2.body"}],staticClass:"form-control child-response-input",attrs:{type:"text",id:"texto"+s.discussions.id,placeholder:"Write a reply... Enter key to send"},domProps:{value:t.formChild2.body},on:{input:function(s){s.target.composing||t.$set(t.formChild2,"body",s.target.value)}}})])])])],2)}),t._v(" "),i("br"),t._v(" "),i("br"),t._v(" "),i("br")],2)])])])])])])])])])])])])])]):i("div",{staticClass:"row "},[i("div",{staticClass:"col-4"}),t._v(" "),i("div",{staticClass:"col-4"},[i("router-link",{staticClass:"btn btn-primary",attrs:{to:"/innovations"}},[t._v("\n\n          Go back to innovations\n        ")])],1),t._v(" "),i("div",{staticClass:"col-4"}),t._v(" "),i("div",{staticClass:"col-12 mt-5"},[i("center",[i("h4",{staticStyle:{"margin-left":"auto","margin-right":"auto",display:"block",color:"white"}},[t._v("Sorry, it seems you don't have permission to see this idea.")])]),t._v(" "),i("img",{staticClass:"mt-5 fadeImg",staticStyle:{"text-align":"center","margin-left":"10%"},attrs:{height:"80%",width:"80%",src:t.baseUrl+"img/forbidden.svg",alt:""}})],1)])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"kt-portlet__head-icon"},[s("i",{staticClass:"flaticon-interface-5"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"kt-demo-icon__preview"},[s("i",{staticClass:"flaticon-add"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"kt-widget4__pic kt-widget4__pic--pic"},[s("img",{attrs:{src:"https://microhealth.com/assets/images/illustrations/personal-user-illustration-@2x.png",height:"40",width:"130",alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Nota: presionar tecla "),s("b",[this._v("Enter")]),this._v(" para enviar comentario")])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",[s("i",{staticClass:"flaticon-reply normalFont links"})])}],!1,null,null,null);s.default=r.exports},63:function(t,s,i){"use strict";var e=i(18);i.n(e).a},64:function(t,s,i){(t.exports=i(2)(!1)).push([t.i,"\n.fadeImg {\r\n\r\n    -webkit-animation: fadein 2s; /* Safari, Chrome and Opera > 12.1 */ /* Firefox < 16 */ /* Internet Explorer */ /* Opera < 12.1 */\r\n            animation: fadein 2s;\n}\n@keyframes fadein {\nfrom { opacity: 0;\n}\nto   { opacity: 1;\n}\n}\r\n\r\n/* Firefox < 16 */\r\n\r\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes fadein {\nfrom { opacity: 0;\n}\nto   { opacity: 1;\n}\n}\r\n\r\n/* Internet Explorer */\r\n\r\n/* Opera < 12.1 */\n.noEscondido {\r\n  display:block !important;\n}\n.escondido {\r\n  display:none;\n}\n.largeBtn {\r\n  width:100px !important;\n}\n.pulse {\r\n  --color: #1164c5;\r\n  --hover: #1164c5;\n}\n.pulse:hover,\r\n.pulse:focus {\r\n  -webkit-animation: pulse 3s infinite;\r\n          animation: pulse 3s infinite;\r\n  box-shadow: 0 0 0 2em rgba(255, 255, 255, 0);\n}\n@-webkit-keyframes pulse {\n0% {\r\n    box-shadow: 0 0 0 0 var(--hover);\n}\n}\n@keyframes pulse {\n0% {\r\n    box-shadow: 0 0 0 0 var(--hover);\n}\n}\n.wrapText {\r\n  word-wrap: break-word !important;\n}\n.VueStar__decoration {\r\n  width: 50px;\r\n  height: 50px;\r\n  position: absolute;\n}\n.biggerIcons {\r\n  font-size: 1.5em !important;\n}\n.VueStar__icon {\r\n  position: static !important;\r\n  z-index: 0;\r\n  height: 30px;\r\n  width: 20px;\n}\n.VueStar__ground {\r\n  width: 1px;\r\n  height: 1px;\r\n  margin-left: 60px;\r\n  margin-top: 10px;\n}\n@media (max-width: 600px) {\n.VueStar__ground {\r\n\r\n      margin-left: 10px;\r\n      margin-top: 10px;\n}\n}\n.auxiliarVueStar {\r\n   margin-left: 5px;\n}\n.icons {\r\n  margin-left: 10px;\n}\n.media-list {\r\n  padding-left: 0;\n}\n.links {\r\n  cursor: pointer;\n}\n.center {\r\n  margin-right: 10px !important;\n}\n.fit-width-input {\r\n  width: 30vw !important;\n}\n.child-response-input {\r\n  margin-left: 70px;\r\n  position: relative;\r\n  width: 70% !important;\n}\n.biggerFont {\r\n  font-size: 1.1em;\r\n  padding-left: 30px !important;\r\n  margin-left: 40px !important;\n}\n.biggerFont2 {\r\n  font-size: 1.1em;\n}\n.normalFont {\r\n  font-style: normal !important;\r\n  font-size: 1.05em;\r\n  color: grey;\n}\n.normalFont:hover {\r\n  color: #4286f4;\n}\n.sub {\r\n  padding-left: 70px;\n}\n.imgCircle {\r\n  border-radius: 30px;\n}\n.media {\r\n  display: block;\n}\n.allHeight {\r\n  height: 100vh !important;\n}\n.comment-wrapper .media-list .media img {\r\n  width: 64px;\r\n  height: 64px;\r\n  border: 2px solid #e5e7e8;\n}\n.comment-wrapper .media-list .media {\r\n  border-bottom: 1px dashed #efefef;\r\n  margin-bottom: 25px;\n}\r\n",""])}}]);