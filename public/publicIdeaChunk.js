(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{12:function(t,i,s){var n=s(52);"string"==typeof n&&(n=[[t.i,n,""]]);var e={hmr:!0,transform:void 0,insertInto:void 0};s(3)(n,e);n.locals&&(t.exports=n.locals)},255:function(t,i,s){"use strict";s.r(i);function n(t,i,s){return i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,t}toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-center",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"4000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};var e={data:function(){var t;return n(t={canIseeVar:!1,permissions:{},id:this.$route.params.id,idea:{},editMode:!1,ideas:{},user:window.User,userIdea:{},liked:""},"user",window.user),n(t,"discussionsFinal",{}),n(t,"like",{}),n(t,"containter",""),n(t,"containerFluid",""),n(t,"likesPerIdea",{}),n(t,"foundLiked",!1),n(t,"baseUrl",window.baseUrl),n(t,"randomNumber",Math.floor(100*Math.random())),n(t,"lastCommentId",""),n(t,"id_idea_general",this.$route.params.id),n(t,"form",new Form({user_id:window.user.id,idea_id:this.$route.params.id,body:"",discussion_parent_id:0})),n(t,"formChild",new Form({user_id:window.user.id,idea_id:this.$route.params.id,body:"",discussion_parent_id:""})),n(t,"formChild2",new Form({user_id:window.user.id,idea_id:this.$route.params.id,body:"",discussion_parent_id:""})),n(t,"formLike",new Form({user_id:window.user.id,comment_id:"",idea_id:this.$route.params.id})),n(t,"formDesired",new Form({innovation_id:this.$route.params.id,user_id:window.user.id})),n(t,"deleteForm",new Form({id:""})),t},computed:{puedoEditar:function(){return this.idea.created_by==this.user.id},updatedLastIdComment:function(){},randomNumber2:function(){return Math.floor(100*Math.random())},mobile:function(){return"sm"==this.$mq},large:function(){return"md"==this.$mq||"lg"==this.$mq},voteText:function(){return"sm"==this.$mq?"":("md"==this.$mq||this.$mq,"Me gusta")},likedText:function(){return"sm"==this.$mq?"":("md"==this.$mq||this.$mq,"Me gusta")},voteTextN:function(){return"sm"==this.$mq?"":("md"==this.$mq||this.$mq,"Pulir +")},likedTextN:function(){return"sm"==this.$mq?"":("md"==this.$mq||this.$mq,"Pulir +")}},methods:{deleteIdea:function(){var t=this,i=this.$route.params.id;Swal.fire({title:"Estas seguro(a)?",text:"No será posible deshacer esta acción.",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, borrar idea."}).then(function(s){s.value&&(t.$Progress.start(),t.deleteForm.id=i,t.deleteForm.post("/deleteInnovation").then(function(i){"OK"==i.data.estado?(toastr.success("Bien","Idea borrada correctamente"),t.$router.push({name:"ideaList"})):toastr.info("Oops","No se pudo completar el borrado."),console.log(i.data.msg),t.$Progress.finish()}).catch(function(i){console.log(i),toastr.error("Oops!","Something goes wrong"),t.$Progress.finish()}))})},alreadyLiked1:function(t){if(0!=this.likesPerIdea.length){var i=!1;try{this.likesPerIdea.forEach(function(t){t.user_id==window.user.id&&"like"==t.type&&(i=!0)})}catch(t){}return this.foundLiked=i,i}return this.foundLiked=!1,!1},alreadyLiked2:function(t){if(0!=this.likesPerIdea.length){var i=!1;try{this.likesPerIdea.forEach(function(t){t.user_id==window.user.id&&"dislike"==t.type&&(i=!0)})}catch(t){}return this.foundLiked=i,i}return this.foundLiked=!1,!1},alreadyLiked3:function(t){if(0!=this.likesPerIdea.length){var i=!1;try{this.likesPerIdea.forEach(function(t){t.user_id==window.user.id&&"action"==t.type&&(i=!0)})}catch(t){}return this.foundLiked=i,i}return this.foundLiked=!1,!1},likeIdea:function(t){var i=this;this.$Progress.start(),this.formDesired.type=t,this.formDesired.post("/saveDesired").then(function(t){toastr.success("Gracias por la valoración.","Sigue puntuando tus ideas favoritas."),i.likesPerIdea=t.data.desired}).catch(function(t){console.log(t),toastr.error("Oops!","Something goes wrong")}),this.$Progress.finish()},checkLiked:function(t){if(0!=t.length){var i=!1;try{t.forEach(function(t){t.user_id==window.user.id&&(i=!0)})}catch(t){}return i}return this.liked=!1,!1},likeComment:function(t){var i=this;this.formLike.comment_id=t,this.formLike.idea_id=this.id_idea_general,this.$Progress.start(),this.formLike.post("/saveLike").then(function(t){toastr.success("Keep innovating","Thanks for the feedback."),i.formLike.comment_id="",i.formLike.idea_id="",i.discussionsFinal=t.data.discussions}).catch(function(t){console.log(t),i.formLike.comment_id="",i.formLike.idea_id="",toastr.error("Oops!","Something goes wrong")}),this.$Progress.finish()},addChild:function(t){$("#"+t).attr("style","display:block"),document.getElementById("texto"+t).focus()},checkChilds:function(t){return t.childs.length>0},loadUsers:function(){var t=this;axios.get("/getInnovation/"+this.id).then(function(i){t.idea=i.data.idea,t.userIdea=i.data.user,t.discussionsFinal=i.data.discussions,t.likesPerIdea=i.data.desired,t.permissions=i.data.permissions}).catch(function(t){console.log(t)})},sendComment:function(){var t=this;this.$Progress.start(),this.form.post("/addComment").then(function(i){toastr.success("Awesome!","Comment added successfully."),t.form.reset(),t.discussionsFinal=i.data.discussions,t.likesPerIdea=i.data.desired}).catch(function(t){console.log(t),toastr.error("Oops!","Something goes wrong")}),this.$Progress.finish()},goLastComment:function(){this.sendComment()},sendChildComment:function(t){var i=this;this.$Progress.start(),this.formChild.discussion_parent_id=t,this.formChild.post("/addComment").then(function(t){toastr.success("Awesome!","Comment added successfully."),i.formChild.reset(),i.discussionsFinal=t.data.discussions,i.likesPerIdea=t.data.desired}).catch(function(){toastr.error("Oops!","Something goes wrong")}),this.$Progress.finish()},sendChild2Comment:function(t){var i=this;this.$Progress.start(),this.formChild2.discussion_parent_id=t,this.formChild2.post("/addComment").then(function(s){toastr.success("Awesome!","Comment added successfully."),i.formChild2.reset(),$("#"+t).attr("style","display:none"),i.discussionsFinal=s.data.discussions,i.likesPerIdea=s.data.desired}).catch(function(t){console.log(t),toastr.error("Oops!","Something goes wrong")}),this.$Progress.finish()}},created:function(){},mounted:function(){this.loadUsers()}},a=(s(51),s(1)),o=Object(a.a)(e,function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{class:{"container-fluid":t.mobile,"container-fluid":t.large}},[s("div",{staticClass:"row",staticStyle:{"min-height":"80vh"}},[s("div",{staticClass:"col-lg-12 col-sm-12 col-md-12"},[s("div",{staticClass:"kt-portlet mobilePortlet"},[s("div",{staticClass:"kt-portlet__head"},[s("div",{staticClass:"kt-portlet__head-label"},[s("router-link",{staticClass:"btn btn-clean kt-margin-r-10",attrs:{to:"/innovations"}},[s("i",{staticClass:"la la-arrow-left",staticStyle:{"padding-bottom":"8px"}}),t._v(" "),s("span",{staticClass:"kt-hidden-mobile"},[t._v("Back")])]),t._v(" "),t._m(0),t._v(" "),s("h3",{staticClass:"kt-portlet__head-title"},[t._v(t._s(t.idea.title))])],1),t._v(" "),s("div",{staticClass:"kt-portlet__head-toolbar"},[s("div",{staticClass:"kt-portlet__head-actions"},[t.alreadyLiked1(t.idea)?t._e():s("button",{staticClass:"btn btn-outline-primary btn-sm btn-icon pulse btn-icon-md ",class:{largeBtn:t.large},on:{click:function(i){return t.likeIdea("like")}}},[s("i",{staticClass:"flaticon2-arrow-up"}),t._v("\n                  "+t._s(t.voteText)+"\n              ")]),t._v(" "),t.alreadyLiked1(t.idea)?s("button",{staticClass:"btn btn-primary btn-sm btn-icon pulse btn-icon-md ",class:{largeBtn:t.large},on:{click:function(i){return t.likeIdea("unlike")}}},[s("i",{staticClass:"flaticon2-arrow-up"}),t._v("\n                  "+t._s(t.likedText)+"\n               ")]):t._e(),t._v(" "),t.alreadyLiked2(t.idea)?t._e():s("button",{staticClass:"btn btn-outline-primary btn-sm btn-icon pulse btn-icon-md ",class:{largeBtn:t.large},on:{click:function(i){return t.likeIdea("dislike")}}},[s("i",{staticClass:"flaticon2-arrow-down "}),t._v("\n                  "+t._s(t.voteTextN)+"\n              ")]),t._v(" "),t.alreadyLiked2(t.idea)?s("button",{staticClass:"btn btn-primary btn-sm btn-icon pulse btn-icon-md ",class:{largeBtn:t.large},on:{click:function(i){return t.likeIdea("undislike")}}},[s("i",{staticClass:"flaticon2-arrow-down"}),t._v("\n                  "+t._s(t.likedTextN)+"\n               ")]):t._e(),t._v(" "),t.alreadyLiked3(t.idea)?t._e():s("button",{staticClass:"btn btn-outline-primary btn-sm btn-icon pulse btn-icon-md ",class:{largeBtn:t.large},on:{click:function(i){return t.likeIdea("action")}}},[s("div",{staticStyle:{padding:"2px","font-size":"0.8rem"}},[t._v(" Acción de mejora")])]),t._v(" "),t.alreadyLiked3(t.idea)?s("button",{staticClass:"btn btn-primary btn-sm btn-icon pulse btn-icon-md ",class:{largeBtn:t.large},on:{click:function(i){return t.likeIdea("unaction")}}},[s("div",{staticStyle:{padding:"2px","font-size":"0.8rem"}},[t._v(" Acción de mejora")])]):t._e(),t._v(" "),t.puedoEditar?s("router-link",{staticClass:"btn btn-outline-warning btn-sm btn-icon btn-icon-md",attrs:{to:"/innovationsEdit/"+this.id}},[s("i",{staticClass:"flaticon-edit"})]):t._e(),t._v(" "),t.puedoEditar?s("router-link",{staticClass:"btn btn-outline-success btn-sm btn-icon btn-icon-md",attrs:{to:"/shareInnovation/"+this.id}},[s("i",{staticClass:"flaticon-share"})]):t._e(),t._v(" "),t.puedoEditar?s("button",{staticClass:"btn btn-outline-danger btn-sm btn-icon btn-icon-md",on:{click:t.deleteIdea}},[s("i",{staticClass:"flaticon-delete"})]):t._e()],1)])]),t._v(" "),s("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"images "},[s("img",{staticClass:"imgFit",attrs:{src:t.idea.img}})]),t._v(" "),s("div",{staticClass:"kt-portlet__body wrapText",attrs:{id:"ideaBody"},domProps:{innerHTML:t._s(t.idea.body)}}),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"user-section"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"kt-portlet kt-portlet--tabs kt-portlet--height-fluid"},[s("div",{staticClass:"kt-portlet__body"},[s("div",{staticClass:"tab-content"},[s("div",{staticClass:"tab-pane active",attrs:{id:"kt_widget4_tab1_content"}},[s("div",{staticClass:"kt-widget4"},[s("div",{staticClass:"kt-widget4__item"},[t._m(1),t._v(" "),"showme"==t.idea.author?s("div",{staticClass:"kt-widget4__info"},[s("a",{staticClass:"kt-widget4__username",attrs:{href:"#"}},[t._v(t._s(t.userIdea.name))]),t._v(" "),s("p",{staticClass:"kt-widget4__text"},[t._v(t._s(t.userIdea.email))])]):t._e(),t._v(" "),"showme"==t.idea.author?s("a",{staticClass:"btn btn-sm btn-label-brand",attrs:{href:"#"}},[t._v("Contact user")]):t._e(),t._v(" "),"anonymous"==t.idea.author?s("div",{staticClass:"kt-widget4__info"},[s("a",{staticClass:"kt-widget4__username",attrs:{href:"#"}},[t._v("Anonymous User")]),t._v(" "),s("p",{staticClass:"kt-widget4__text"},[t._v("Visual Designer, Google Inc")])]):t._e(),t._v(" "),"anonymous"==t.idea.author?s("a",{staticClass:"btn btn-sm btn-label-brand",attrs:{href:"#"}},[t._v("Contact user")]):t._e()])])])]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"comments-section"},[s("div",{staticClass:"row bootstrap snippets"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"comment-wrapper"},[s("div",{staticClass:"panel panel-info"},[s("div",{staticClass:"panel-body"},[s("h5",{staticClass:"ml-3 mt-5"},[t._v("Comments Section")]),t._v(" "),s("form",{staticClass:"form-inline",on:{submit:function(i){return i.preventDefault(),t.goLastComment(i)},keydown:function(i){return t.form.onKeydown(i)},keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.goLastComment()}}},[s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.body,expression:"form.body"}],staticClass:"form-control fit-width-input",staticStyle:{margin:"10px",overflow:"hidden"},attrs:{placeholder:"Write a comment...",rows:"2",required:""},domProps:{value:t.form.body},on:{input:function(i){i.target.composing||t.$set(t.form,"body",i.target.value)}}})])]),t._v(" "),s("br"),t._v(" "),s("ul",{staticClass:"media-list"},[t._l(t.discussionsFinal,function(i){return s("li",{key:t.discussionsFinal.id,staticClass:"media",attrs:{id:"padre"+i.discussions.id}},[s("a",{staticClass:"pull-left",attrs:{href:"#"}},[s("img",{staticClass:"imgCircle",attrs:{src:"https://picsum.photos/100?random="+i.discussions.id,alt:""}})]),t._v(" "),s("div",{staticClass:"media-body"},[s("span",{staticClass:"text-muted pull-right mr-5"},[s("h6",{staticClass:"text-muted"},[t._v(t._s(t._f("humanDate2")(i.discussions.created_at)))])]),t._v(" "),s("strong",{staticClass:"text-success"},[t._v(" "+t._s(i.discussions.name))]),t._v(" "),s("p",{staticClass:"biggerFont"},[t._v(t._s(i.discussions.body))]),t._v(" "),s("div",{staticClass:"icons"},[s("a",{staticClass:"animated bounce",on:{click:function(s){return t.likeComment(i.discussions.id)}}},[s("i",{staticClass:"normalFont links biggerIcons",staticStyle:{display:"inline"}},[t.checkLiked(i.discussions.likes)?s("vue-star",{attrs:{animate:"animated  normalFont links",color:"#ccc"}},[s("a",{staticClass:"fas fa-thumbs-up",staticStyle:{color:"#4285F4"},attrs:{slot:"icon"},slot:"icon"})]):s("vue-star",{attrs:{animate:"animated bounce normalFont links",color:"#4285F4"}},[s("a",{staticClass:"fas fa-thumbs-up",staticStyle:{color:"gray"},attrs:{slot:"icon"},slot:"icon"})])],1),t._v("\n                                               \n  \n                                        "+t._s(" "+i.discussions.likes.length)+" "+t._s(t.likesText)+"\n                                      ")]),t._v("\n                                         \n                                      "),s("a",{on:{click:function(s){return t.addChild(i.discussions.id)}}},[s("span",[s("i",{staticClass:"flaticon-reply normalFont links"},[t._v("  "+t._s(i.childs.length)+"  comments")])])])])]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),t._l(i.childs,function(n){return s("div",{key:n.id,staticClass:"media sub"},[s("a",{staticClass:"pull-left"},[s("img",{staticClass:"imgCircle",attrs:{src:"https://picsum.photos/110?random="+n.id,alt:""}})]),t._v(" "),s("div",{staticClass:"media-body"},[s("span",{staticClass:"text-muted pull-right mr-5"},[s("h6",{staticClass:"text-muted"},[t._v(t._s(t._f("humanDate2")(n.created_at)))])]),t._v(" "),s("strong",{staticClass:"text-success"},[t._v(" "+t._s(n.name))]),t._v(" "),s("p",{staticClass:"biggerFont"},[t._v(t._s(n.body))]),t._v(" "),s("div",{staticClass:"icons"},[s("a",{staticClass:"animated bounce",on:{click:function(i){return t.likeComment(n.id)}}},[s("i",{staticClass:"normalFont links biggerIcons",staticStyle:{display:"inline"}},[t.checkLiked(n.likes)?s("vue-star",{attrs:{animate:"animated  normalFont links",color:"#ccc"}},[s("a",{staticClass:"fas fa-thumbs-up",staticStyle:{color:"#4285F4"},attrs:{slot:"icon"},slot:"icon"})]):s("vue-star",{attrs:{animate:"animated bounce normalFont links",color:"#4285F4"}},[s("a",{staticClass:"fas fa-thumbs-up",staticStyle:{color:"gray"},attrs:{slot:"icon"},slot:"icon"})])],1),t._v("\n                                                 \n                                          "+t._s(" "+n.likes.length)+" "+t._s(t.likesText)+"\n                                        ")]),t._v("\n                                           \n                                        "),s("a",{on:{click:function(s){return t.addChild(i.discussions.id)}}},[t._m(2,!0)])])])])}),t._v(" "),(t.checkChilds(i),t._e()),t._v(" "),s("div",{staticClass:"childComment",staticStyle:{display:"none"},attrs:{id:i.discussions.id}},[s("form",{staticClass:"form",on:{submit:function(s){return s.preventDefault(),t.sendChild2Comment(i.discussions.id)},keydown:function(i){return t.formChild2.onKeydown(i)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formChild2.body,expression:"formChild2.body"}],staticClass:"form-control child-response-input",attrs:{type:"text",id:"texto"+i.discussions.id,placeholder:"Write a reply... Enter key to send"},domProps:{value:t.formChild2.body},on:{input:function(i){i.target.composing||t.$set(t.formChild2,"body",i.target.value)}}})])])])],2)}),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br")],2)])])])])])])])])])])])])])])])},[function(){var t=this.$createElement,i=this._self._c||t;return i("span",{staticClass:"kt-portlet__head-icon"},[i("i",{staticClass:"flaticon2-calendar-2"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"kt-widget4__pic kt-widget4__pic--pic"},[i("img",{attrs:{src:"https://microhealth.com/assets/images/illustrations/personal-user-illustration-@2x.png",height:"40",width:"130",alt:""}})])},function(){var t=this.$createElement,i=this._self._c||t;return i("span",[i("i",{staticClass:"flaticon-reply normalFont links"})])}],!1,null,null,null);i.default=o.exports},51:function(t,i,s){"use strict";var n=s(12);s.n(n).a},52:function(t,i,s){(t.exports=s(2)(!1)).push([t.i,"\n.toast-title {\r\n  color:white !important;\n}\n.fadeImg {\r\n  \r\n    -webkit-animation: fadein 2s; /* Safari, Chrome and Opera > 12.1 */ /* Firefox < 16 */ /* Internet Explorer */ /* Opera < 12.1 */\r\n            animation: fadein 2s;\n}\n@keyframes fadein {\nfrom { opacity: 0;\n}\nto   { opacity: 1;\n}\n}\r\n\r\n/* Firefox < 16 */\r\n\r\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes fadein {\nfrom { opacity: 0;\n}\nto   { opacity: 1;\n}\n}\r\n\r\n/* Internet Explorer */\r\n\r\n/* Opera < 12.1 */\n.noEscondido {\r\n  display:block !important;\n}\n.escondido {\r\n  display:none;\n}\n.largeBtn {\r\n  width:100px !important;\n}\n.pulse {\r\n  --color: #1164c5;\r\n  --hover: #1164c5;\n}\n.pulse:hover,\r\n.pulse:focus {\r\n  -webkit-animation: pulse 3s infinite;\r\n          animation: pulse 3s infinite;\r\n  box-shadow: 0 0 0 2em rgba(255, 255, 255, 0);\n}\n@-webkit-keyframes pulse {\n0% {\r\n    box-shadow: 0 0 0 0 var(--hover);\n}\n}\n@keyframes pulse {\n0% {\r\n    box-shadow: 0 0 0 0 var(--hover);\n}\n}\n.wrapText {\r\n  word-wrap: break-word !important;\n}\n.VueStar__decoration {\r\n  width: 50px;\r\n  height: 50px;\r\n  position: absolute;\n}\n.biggerIcons {\r\n  font-size: 1.5em !important;\n}\n.VueStar__icon {\r\n  position: static !important;\r\n  z-index: 0;\r\n  height: 30px;\r\n  width: 20px;\n}\n.VueStar__ground {\r\n  width: 1px;\r\n  height: 1px;\r\n  margin-left: 60px;\r\n  margin-top: 10px;\n}\n@media (max-width: 600px) {\n.VueStar__ground {\r\n      \r\n      margin-left: 10px;\r\n      margin-top: 10px;\n}\n}\n.auxiliarVueStar {\r\n   margin-left: 5px;\n}\n.icons {\r\n  margin-left: 10px;\n}\n.media-list {\r\n  padding-left: 0;\n}\n.links {\r\n  cursor: pointer;\n}\n.center {\r\n  margin-right: 10px !important;\n}\n.fit-width-input {\r\n  width: 30vw !important;\n}\n.child-response-input {\r\n  margin-left: 70px;\r\n  position: relative;\r\n  width: 70% !important;\n}\n.biggerFont {\r\n  font-size: 1.1em;\r\n  padding-left: 30px !important;\r\n  margin-left: 40px !important;\n}\n.biggerFont2 {\r\n  font-size: 1.1em;\n}\n.normalFont {\r\n  font-style: normal !important;\r\n  font-size: 1.05em;\r\n  color: grey;\n}\n.normalFont:hover {\r\n  color: #4286f4;\n}\n.sub {\r\n  padding-left: 70px;\n}\n.imgCircle {\r\n  border-radius: 30px;\n}\n.media {\r\n  display: block;\n}\n.allHeight {\r\n  height: 100vh !important;\n}\n.comment-wrapper .media-list .media img {\r\n  width: 64px;\r\n  height: 64px;\r\n  border: 2px solid #e5e7e8;\n}\n.comment-wrapper .media-list .media {\r\n  border-bottom: 1px dashed #efefef;\r\n  margin-bottom: 25px;\n}\r\n",""])}}]);